function tcDroneBattCalc(b){function d(){$(m).removeClass("err").removeClass("act");c.isEmpty()||c.getValue();f.isEmpty()&&f.reset();var a=f.getValue();var b=q.getValue();var g=n.getValue();var d=r.getValue();var e=c.getValue();var h=t.getValue();var k=u.getValue();var l=v.getValue();var p=w.getValue();b=a+b*d;x.showValue({value:b});h=b*h*.01;y.showValue({value:h});z.showValue({value:Math.ceil(b/(k*l))});l=3600*k/h;$(A.valueElement).html(TCUC.formatTime(l,0));$(B.valueElement).html(TCUC.formatTime(l*
p*.01,0));C.showValue({value:b*g});D.showValue({value:k});g=4.2*e;E.showValue({value:g});F.showValue({value:g*k*1.2})}function e(){if(!c.isEmpty()){var a=parseInt(c.getValue(),10);isNaN(a)||($(p).text(a.toString()+"S"),n.setValue(3.7*a))}}var a=$("."+b.calc),m=TCUC.getAllInputFields(a),r=TCUC.InputField({selectorPrefix:".n-motors",form:a,calculateValueOnUnitChange:!0}),q=TCUC.InputField({selectorPrefix:".i-motor",defaultUnitIndex:1,form:a,calculateValueOnUnitChange:!0}),f=TCUC.InputField({selectorPrefix:".i-other",
defaultUnitIndex:1,form:a,calculateValueOnUnitChange:!0}),c=TCUC.InputField({selectorPrefix:".n-series",form:a,calculateValueOnUnitChange:!0}),p=$(".ns-mark",a),n=TCUC.InputField({selectorPrefix:".v-bat",form:a,calculateValueOnUnitChange:!0}),u=TCUC.InputField({selectorPrefix:".q",form:a,calculateValueOnUnitChange:!0}),v=TCUC.InputField({selectorPrefix:".batt-c-rate",form:a,calculateValueOnUnitChange:!0}),w=TCUC.InputField({selectorPrefix:".batt-dr",form:a,calculateValueOnUnitChange:!0}),t=TCUC.InputField({selectorPrefix:".flying-load",
form:a,calculateValueOnUnitChange:!0}),x=TCUC.ResultBlock({blockSelector:".res-i-max-full-load",form:a,format:{fractionDigits:2,multSign:b.times},units:b.cUnits}),y=TCUC.ResultBlock({blockSelector:".res-i-flying-load",form:a,format:{fractionDigits:2,multSign:b.times},units:b.cUnits}),z=TCUC.ResultBlock({blockSelector:".res-n-batts",form:a,format:{fractionDigits:0,multSign:b.times}}),A=TCUC.ResultBlock({blockSelector:".res-t-flight",form:a}),B=TCUC.ResultBlock({blockSelector:".res-t-flight-80",form:a}),
C=TCUC.ResultBlock({blockSelector:".res-w-max",form:a,format:{fractionDigits:2,multSign:b.times},units:b.pUnits}),D=TCUC.ResultBlock({blockSelector:".res-i-charger",form:a,format:{fractionDigits:2,multSign:b.times},units:b.cUnits}),F=TCUC.ResultBlock({blockSelector:".res-p-charger",form:a,format:{fractionDigits:2,multSign:b.times},units:b.pUnits}),E=TCUC.ResultBlock({blockSelector:".res-v-charger",form:a,format:{fractionDigits:2,multSign:b.times},units:b.vUnits});TCUC.sharingBoxInitialize(b.url,{formIndex:0});
$(m).each(function(a,b){if(""===$(b).val()){var c=$(b).data("default");"undefined"!==typeof c&&$(b).val(c)}});e();d();$(".uc-calculator-calc-btn",a).click(function(){d()});$(".uc-calculator-reset-btn",a).click(function(){r.reset();q.reset();f.reset();c.reset();u.reset();v.reset();w.reset();t.reset();e();$(n.box).removeClass("act");x.reset();y.reset();z.reset();A.reset();B.reset();C.reset();D.reset();F.reset();E.reset()});$(c.box).on("keyup change",function(a){e();d()});$(m).on("keyup change",function(a){var b=
a.which;if("keyup"===a.type&&13===b||"keyup"===a.type&&86===b&&a.ctrlKey||"change"===a.type)return d(),!1})};
